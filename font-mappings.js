// font-mappings.js

// --- Mapeamentos de Caracteres ---

const scriptifyMap = { // Exemplo para "Scriptify" e "Elegante (Cursive 1)"
    'A': 'ğ’œ', 'B': 'ğµ', 'C': 'ğ’', 'D': 'ğ’Ÿ', 'E': 'ğ¸', 'F': 'ğ¹', 'G': 'ğ’¢', 'H': 'ğ»', 'I': 'ğ¼', 'J': 'ğ’¥', 'K': 'ğ’¦', 'L': 'ğ¿', 'M': 'ğ‘€',
    'N': 'ğ’©', 'O': 'ğ’ª', 'P': 'ğ’«', 'Q': 'ğ’¬', 'R': 'ğ‘…', 'S': 'ğ’®', 'T': 'ğ’¯', 'U': 'ğ’°', 'V': 'ğ’±', 'W': 'ğ’²', 'X': 'ğ’³', 'Y': 'ğ’´', 'Z': 'ğ’µ',
    'a': 'ğ’¶', 'b': 'ğ’·', 'c': 'ğ’¸', 'd': 'ğ’¹', 'e': 'ğ‘’', 'f': 'ğ’»', 'g': 'ğ‘”', 'h': 'ğ’½', 'i': 'ğ’¾', 'j': 'ğ’¿', 'k': 'ğ“€', 'l': 'ğ“', 'm': 'ğ“‚',
    'n': 'ğ“ƒ', 'o': 'ğ‘œ', 'p': 'ğ“…', 'q': 'ğ“†', 'r': 'ğ“‡', 's': 'ğ“ˆ', 't': 'ğ“‰', 'u': 'ğ“Š', 'v': 'ğ“‹', 'w': 'ğ“Œ', 'x': 'ğ“', 'y': 'ğ“', 'z': 'ğ“',
    '0': '0', '1': '1', '2': '2', '3': '3', '4': '4', '5': '5', '6': '6', '7': '7', '8': '8', '9': '9' // NÃºmeros geralmente nÃ£o sÃ£o estilizados nessa fonte
};

const eleganteCursive2Map = { // Exemplo para "Elegante (Cursive 2)"
    'A': 'ğ“', 'B': 'ğ“‘', 'C': 'ğ“’', 'D': 'ğ““', 'E': 'ğ“”', 'F': 'ğ“•', 'G': 'ğ“–', 'H': 'ğ“—', 'I': 'ğ“˜', 'J': 'ğ“™', 'K': 'ğ“š', 'L': 'ğ“›', 'M': 'ğ“œ',
    'N': 'ğ“', 'O': 'ğ“', 'P': 'ğ“Ÿ', 'Q': 'ğ“ ', 'R': 'ğ“¡', 'S': 'ğ“¢', 'T': 'ğ“£', 'U': 'ğ“¤', 'V': 'ğ“¥', 'W': 'ğ“¦', 'X': 'ğ“§', 'Y': 'ğ“¨', 'Z': 'ğ“©',
    'a': 'ğ“ª', 'b': 'ğ“«', 'c': 'ğ“¬', 'd': 'ğ“­', 'e': 'ğ“®', 'f': 'ğ“¯', 'g': 'ğ“°', 'h': 'ğ“±', 'i': 'ğ“²', 'j': 'ğ“³', 'k': 'ğ“´', 'l': 'ğ“µ', 'm': 'ğ“¶',
    'n': 'ğ“·', 'o': 'ğ“¸', 'p': 'ğ“¹', 'q': 'ğ“º', 'r': 'ğ“»', 's': 'ğ“¼', 't': 'ğ“½', 'u': 'ğ“¾', 'v': 'ğ“¿', 'w': 'ğ”€', 'x': 'ğ”', 'y': 'ğ”‚', 'z': 'ğ”ƒ',
    '0': '0', '1': '1', '2': '2', '3': '3', '4': '4', '5': '5', '6': '6', '7': '7', '8': '8', '9': '9' // NÃºmeros geralmente nÃ£o sÃ£o estilizados nessa fonte
};

const oldEnglishMap = {
    'A': 'ğ”„', 'B': 'ğ”…', 'C': 'â„­', 'D': 'ğ”‡', 'E': 'ğ”ˆ', 'F': 'ğ”‰', 'G': 'ğ”Š', 'H': 'â„Œ', 'I': 'â„‘', 'J': 'ğ”', 'K': 'ğ”', 'L': 'ğ”', 'M': 'ğ”',
    'N': 'ğ”‘', 'O': 'ğ”’', 'P': 'ğ”“', 'Q': 'ğ””', 'R': 'â„œ', 'S': 'ğ”–', 'T': 'ğ”—', 'U': 'ğ”˜', 'V': 'ğ”™', 'W': 'ğ”š', 'X': 'ğ”›', 'Y': 'ğ”œ', 'Z': 'â„¨',
    'a': 'ğ”', 'b': 'ğ”Ÿ', 'c': 'ğ” ', 'd': 'ğ”¡', 'e': 'ğ”¢', 'f': 'ğ”£', 'g': 'ğ”¤', 'h': 'ğ”¥', 'i': 'ğ”¦', 'j': 'ğ”§', 'k': 'ğ”¨', 'l': 'ğ”©', 'm': 'ğ”ª',
    'n': 'ğ”«', 'o': 'ğ”¬', 'p': 'ğ”­', 'q': 'ğ”®', 'r': 'ğ”¯', 's': 'ğ”°', 't': 'ğ”±', 'u': 'ğ”²', 'v': 'ğ”³', 'w': 'ğ”´', 'x': 'ğ”µ', 'y': 'ğ”¶', 'z': 'ğ”·',
    '0': '0', '1': '1', '2': '2', '3': '3', '4': '4', '5': '5', '6': '6', '7': '7', '8': '8', '9': '9' // NÃºmeros geralmente nÃ£o sÃ£o estilizados nessa fonte
};

const medievalMap = {
    'A': 'ğ•¬', 'B': 'ğ•­', 'C': 'ğ•®', 'D': 'ğ•¯', 'E': 'ğ•°', 'F': 'ğ•±', 'G': 'ğ•²', 'H': 'ğ•³', 'I': 'ğ•´', 'J': 'ğ•µ', 'K': 'ğ•¶', 'L': 'ğ•·', 'M': 'ğ•¸',
    'N': 'ğ•¹', 'O': 'ğ•º', 'P': 'ğ•»', 'Q': 'ğ•¼', 'R': 'ğ•½', 'S': 'ğ•¾', 'T': 'ğ•¿', 'U': 'ğ–€', 'V': 'ğ–', 'W': 'ğ–‚', 'X': 'ğ–ƒ', 'Y': 'ğ–„', 'Z': 'ğ–…',
    'a': 'ğ–†', 'b': 'ğ–‡', 'c': 'ğ–ˆ', 'd': 'ğ–‰', 'e': 'ğ–Š', 'f': 'ğ–‹', 'g': 'ğ–Œ', 'h': 'ğ–', 'i': 'ğ–', 'j': 'ğ–', 'k': 'ğ–', 'l': 'ğ–‘', 'm': 'ğ–’',
    'n': 'ğ–“', 'o': 'ğ–”', 'p': 'ğ–•', 'q': 'ğ––', 'r': 'ğ–—', 's': 'ğ–˜', 't': 'ğ–™', 'u': 'ğ–š', 'v': 'ğ–›', 'w': 'ğ–œ', 'x': 'ğ–', 'y': 'ğ–', 'z': 'ğ–Ÿ',
    '0': '0', '1': '1', '2': '2', '3': '3', '4': '4', '5': '5', '6': '6', '7': '7', '8': '8', '9': '9'
};

const doubleStruckMap = {
    '0': 'ğŸ˜', '1': 'ğŸ™', '2': 'ğŸš', '3': 'ğŸ›', '4': 'ğŸœ', '5': 'ğŸ', '6': 'ğŸ', '7': 'ğŸŸ', '8': 'ğŸ ', '9': 'ğŸ¡',
    'A': 'ğ”¸', 'B': 'ğ”¹', 'C': 'â„‚', 'D': 'ğ”»', 'E': 'ğ”¼', 'F': 'ğ”½', 'G': 'ğ”¾', 'H': 'â„', 'I': 'ğ•€', 'J': 'ğ•', 'K': 'ğ•‚', 'L': 'ğ•ƒ', 'M': 'ğ•„',
    'N': 'â„•', 'O': 'ğ•†', 'P': 'â„™', 'Q': 'â„š', 'R': 'â„', 'S': 'ğ•Š', 'T': 'ğ•‹', 'U': 'ğ•Œ', 'V': 'ğ•', 'W': 'ğ•', 'X': 'ğ•', 'Y': 'ğ•', 'Z': 'â„¤',
    'a': 'ğ•’', 'b': 'ğ•“', 'c': 'ğ•”', 'd': 'ğ••', 'e': 'ğ•–', 'f': 'ğ•—', 'g': 'ğ•˜', 'h': 'ğ•™', 'i': 'ğ•š', 'j': 'ğ•›', 'k': 'ğ•œ', 'l': 'ğ•', 'm': 'ğ•',
    'n': 'ğ•Ÿ', 'o': 'ğ• ', 'p': 'ğ•¡', 'q': 'ğ•¢', 'r': 'ğ•£', 's': 'ğ•¤', 't': 'ğ•¥', 'u': 'ğ•¦', 'v': 'ğ•§', 'w': 'ğ•¨', 'x': 'ğ•©', 'y': 'ğ•ª', 'z': 'ğ•«'
};

const italicMap = {
    '0': 'ğŸ¶', '1': 'ğŸ·', '2': 'ğŸ¸', '3': 'ğŸ¹', '4': 'ğŸº', '5': 'ğŸ»', '6': 'ğŸ¼', '7': 'ğŸ½', '8': 'ğŸ¾', '9': 'ğŸ¿',
    'A': 'ğ´', 'B': 'ğµ', 'C': 'ğ¶', 'D': 'ğ·', 'E': 'ğ¸', 'F': 'ğ¹', 'G': 'ğº', 'H': 'ğ»', 'I': 'ğ¼', 'J': 'ğ½', 'K': 'ğ¾', 'L': 'ğ¿', 'M': 'ğ‘€',
    'N': 'ğ‘', 'O': 'ğ‘‚', 'P': 'ğ‘ƒ', 'Q': 'ğ‘„', 'R': 'ğ‘…', 'S': 'ğ‘†', 'T': 'ğ‘‡', 'U': 'ğ‘ˆ', 'V': 'ğ‘‰', 'W': 'ğ‘Š', 'X': 'ğ‘‹', 'Y': 'ğ‘Œ', 'Z': 'ğ‘',
    'a': 'ğ‘', 'b': 'ğ‘', 'c': 'ğ‘', 'd': 'ğ‘‘', 'e': 'ğ‘’', 'f': 'ğ‘“', 'g': 'ğ‘”', 'h': 'â„', 'i': 'ğ‘–', 'j': 'ğ‘—', 'k': 'ğ‘˜', 'l': 'ğ‘™', 'm': 'ğ‘š',
    'n': 'ğ‘›', 'o': 'ğ‘œ', 'p': 'ğ‘', 'q': 'ğ‘', 'r': 'ğ‘Ÿ', 's': 'ğ‘ ', 't': 'ğ‘¡', 'u': 'ğ‘¢', 'v': 'ğ‘£', 'w': 'ğ‘¤', 'x': 'ğ‘¥', 'y': 'ğ‘¦', 'z': 'ğ‘§'
};

const boldItalicMap = {
    '0': 'ğŸ', '1': 'ğŸ', '2': 'ğŸ', '3': 'ğŸ‘', '4': 'ğŸ’', '5': 'ğŸ“', '6': 'ğŸ”', '7': 'ğŸ•', '8': 'ğŸ–', '9': 'ğŸ—',
    'A': 'ğ‘¨', 'B': 'ğ‘©', 'C': 'ğ‘ª', 'D': 'ğ‘«', 'E': 'ğ‘¬', 'F': 'ğ‘­', 'G': 'ğ‘®', 'H': 'ğ‘¯', 'I': 'ğ‘°', 'J': 'ğ‘±', 'K': 'ğ‘²', 'L': 'ğ‘³', 'M': 'ğ‘´',
    'N': 'ğ‘µ', 'O': 'ğ‘¶', 'P': 'ğ‘·', 'Q': 'ğ‘¸', 'R': 'ğ‘¹', 'S': 'ğ‘º', 'T': 'ğ‘»', 'U': 'ğ‘¼', 'V': 'ğ‘½', 'W': 'ğ‘¾', 'X': 'ğ‘¿', 'Y': 'ğ’€', 'Z': 'ğ’',
    'a': 'ğ’‚', 'b': 'ğ’ƒ', 'c': 'ğ’„', 'd': 'ğ’…', 'e': 'ğ’†', 'f': 'ğ’‡', 'g': 'ğ’ˆ', 'h': 'ğ’‰', 'i': 'ğ’Š', 'j': 'ğ’‹', 'k': 'ğ’Œ', 'l': 'ğ’', 'm': 'ğ’',
    'n': 'ğ’', 'o': 'ğ’', 'p': 'ğ’‘', 'q': 'ğ’’', 'r': 'ğ’“', 's': 'ğ’”', 't': 'ğ’•', 'u': 'ğ’–', 'v': 'ğ’—', 'w': 'ğ’˜', 'x': 'ğ’™', 'y': 'ğ’š', 'z': 'ğ’›'
};

const monospaceMap = {
    '0': 'ğŸ¶', '1': 'ğŸ·', '2': 'ğŸ¸', '3': 'ğŸ¹', '4': 'ğŸº', '5': 'ğŸ»', '6': 'ğŸ¼', '7': 'ğŸ½', '8': 'ğŸ¾', '9': 'ğŸ¿',
    'A': 'ğ™°', 'B': 'ğ™±', 'C': 'ğ™²', 'D': 'ğ™³', 'E': 'ğ™´', 'F': 'ğ™µ', 'G': 'ğ™¶', 'H': 'ğ™·', 'I': 'ğ™¸', 'J': 'ğ™¹', 'K': 'ğ™º', 'L': 'ğ™»', 'M': 'ğ™¼',
    'N': 'ğ™½', 'O': 'ğ™¾', 'P': 'ğ™¿', 'Q': 'ğš€', 'R': 'ğš', 'S': 'ğš‚', 'T': 'ğšƒ', 'U': 'ğš„', 'V': 'ğš…', 'W': 'ğš†', 'X': 'ğš‡', 'Y': 'ğšˆ', 'Z': 'ğš‰',
    'a': 'ğšŠ', 'b': 'ğš‹', 'c': 'ğšŒ', 'd': 'ğš', 'e': 'ğš', 'f': 'ğš', 'g': 'ğš', 'h': 'ğš‘', 'i': 'ğš’', 'j': 'ğš“', 'k': 'ğš”', 'l': 'ğš•', 'm': 'ğš–',
    'n': 'ğš—', 'o': 'ğš˜', 'p': 'ğš™', 'q': 'ğšš', 'r': 'ğš›', 's': 'ğšœ', 't': 'ğš', 'u': 'ğš', 'v': 'ğšŸ', 'w': 'ğš ', 'x': 'ğš¡', 'y': 'ğš¢', 'z': 'ğš£'
};

const lunitoolsBubblesMap = {
    'A': 'â’¶', 'B': 'â’·', 'C': 'â’¸', 'D': 'â’¹', 'E': 'â’º', 'F': 'â’»', 'G': 'â’¼', 'H': 'â’½', 'I': 'â’¾', 'J': 'â’¿', 'K': 'â“€', 'L': 'â“', 'M': 'â“‚',
    'N': 'â“ƒ', 'O': 'â“„', 'P': 'â“…', 'Q': 'â“†', 'R': 'â“‡', 'S': 'â“ˆ', 'T': 'â“‰', 'U': 'â“Š', 'V': 'â“‹', 'W': 'â“Œ', 'X': 'â“', 'Y': 'â“', 'Z': 'â“',
    'a': 'â“', 'b': 'â“‘', 'c': 'â“’', 'd': 'â““', 'e': 'â“”', 'f': 'â“•', 'g': 'â“–', 'h': 'â“—', 'i': 'â“˜', 'j': 'â“™', 'k': 'â“š', 'l': 'â“›', 'm': 'â“œ',
    'n': 'â“', 'o': 'â“', 'p': 'â“Ÿ', 'q': 'â“ ', 'r': 'â“¡', 's': 'â“¢', 't': 'â“£', 'u': 'â“¤', 'v': 'â“¥', 'w': 'â“¦', 'x': 'â“§', 'y': 'â“¨', 'z': 'â“©',
    '0': 'â“ª', '1': 'â‘ ', '2': 'â‘¡', '3': 'â‘¢', '4': 'â‘£', '5': 'â‘¤', '6': 'â‘¥', '7': 'â‘¦', '8': 'â‘§', '9': 'â‘¨'
};

const roundBlackBoxBubblesMap = {
    'A': 'ğŸ…', 'B': 'ğŸ…‘', 'C': 'ğŸ…’', 'D': 'ğŸ…“', 'E': 'ğŸ…”', 'F': 'ğŸ…•', 'G': 'ğŸ…–', 'H': 'ğŸ…—', 'I': 'ğŸ…˜', 'J': 'ğŸ…™', 'K': 'ğŸ…š', 'L': 'ğŸ…›', 'M': 'ğŸ…œ',
    'N': 'ğŸ…', 'O': 'ğŸ…', 'P': 'ğŸ…Ÿ', 'Q': 'ğŸ… ', 'R': 'ğŸ…¡', 'S': 'ğŸ…¢', 'T': 'ğŸ…£', 'U': 'ğŸ…¤', 'V': 'ğŸ…¥', 'W': 'ğŸ…¦', 'X': 'ğŸ…§', 'Y': 'ğŸ…¨', 'Z': 'ğŸ…©',
    'a': 'ğŸ…', 'b': 'ğŸ…‘', 'c': 'ğŸ…’', 'd': 'ğŸ…“', 'e': 'ğŸ…”', 'f': 'ğŸ…•', 'g': 'ğŸ…–', 'h': 'ğŸ…—', 'i': 'ğŸ…˜', 'j': 'ğŸ…™', 'k': 'ğŸ…š', 'l': 'ğŸ…›', 'm': 'ğŸ…œ',
    'n': 'ğŸ…', 'o': 'ğŸ…', 'p': 'ğŸ…Ÿ', 'q': 'ğŸ… ', 'r': 'ğŸ…¡', 's': 'ğŸ…¢', 't': 'ğŸ…£', 'u': 'ğŸ…¤', 'v': 'ğŸ…¥', 'w': 'ğŸ…¦', 'x': 'ğŸ…§', 'y': 'ğŸ…¨', 'z': 'ğŸ…©',
    '0': '0', '1': '1', '2': '2', '3': '3', '4': '4', '5': '5', '6': '6', '7': '7', '8': '8', '9': '9' // Adicionei nÃºmeros como fallback se nÃ£o houver um estilo especÃ­fico
};

const dashboxBoxMap = {
    'A': 'ğŸ‡¦', 'B': 'ğŸ‡§', 'C': 'ğŸ‡¨', 'D': 'ğŸ‡©', 'E': 'ğŸ‡ª', 'F': 'ğŸ‡«', 'G': 'ğŸ‡¬', 'H': 'ğŸ‡­', 'I': 'ğŸ‡®', 'J': 'ğŸ‡¯', 'K': 'ğŸ‡°', 'L': 'ğŸ‡±', 'M': 'ğŸ‡²',
    'N': 'ğŸ‡³', 'O': 'ğŸ‡´', 'P': 'ğŸ‡µ', 'Q': 'ğŸ‡¶', 'R': 'ğŸ‡·', 'S': 'ğŸ‡¸', 'T': 'ğŸ‡¹', 'U': 'ğŸ‡º', 'V': 'ğŸ‡»', 'W': 'ğŸ‡¼', 'X': 'ğŸ‡½', 'Y': 'ğŸ‡¾', 'Z': 'ğŸ‡¿',
    'a': 'ğŸ‡¦', 'b': 'ğŸ‡§', 'c': 'ğŸ‡¨', 'd': 'ğŸ‡©', 'e': 'ğŸ‡ª', 'f': 'ğŸ‡«', 'g': 'ğŸ‡¬', 'h': 'ğŸ‡­', 'i': 'ğŸ‡®', 'j': 'ğŸ‡¯', 'k': 'ğŸ‡°', 'l': 'ğŸ‡±', 'm': 'ğŸ‡²',
    'n': 'ğŸ‡³', 'o': 'ğŸ‡´', 'p': 'ğŸ‡µ', 'q': 'ğŸ‡¶', 'r': 'ğŸ‡·', 's': 'ğŸ‡¸', 't': 'ğŸ‡¹', 'u': 'ğŸ‡º', 'v': 'ğŸ‡»', 'w': 'ğŸ‡¼', 'x': 'ğŸ‡½', 'y': 'ğŸ‡¾', 'z': 'ğŸ‡¿',
    '0': '0', '1': '1', '2': '2', '3': '3', '4': '4', '5': '5', '6': '6', '7': '7', '8': '8', '9': '9' // Adicionei nÃºmeros como fallback
};

const invertedSquaresMap = {
    'q': 'ğŸ†€', 'w': 'ğŸ††', 'e': 'ğŸ…´', 'r': 'ğŸ†', 't': 'ğŸ†ƒ', 'y': 'ğŸ†ˆ', 'u': 'ğŸ†„', 'i': 'ğŸ…¸', 'o': 'ğŸ…¾', 'p': 'ğŸ…¿',
    'a': 'ğŸ…°', 's': 'ğŸ†‚', 'd': 'ğŸ…³', 'f': 'ğŸ…µ', 'g': 'ğŸ…¶', 'h': 'ğŸ…·', 'j': 'ğŸ…¹', 'k': 'ğŸ…º', 'l': 'ğŸ…»',
    'z': 'ğŸ†‰', 'x': 'ğŸ†‡', 'c': 'ğŸ…²', 'v': 'ğŸ†…', 'b': 'ğŸ…±', 'n': 'ğŸ…½', 'm': 'ğŸ…¼',
    'Q': 'ğŸ†€', 'W': 'ğŸ††', 'E': 'ğŸ…´', 'R': 'ğŸ†', 'T': 'ğŸ†ƒ', 'Y': 'ğŸ†ˆ', 'U': 'ğŸ†„', 'I': 'ğŸ…¸', 'O': 'ğŸ…¾', 'P': 'ğŸ…¿',
    'A': 'ğŸ…°', 'S': 'ğŸ†‚', 'D': 'ğŸ…³', 'F': 'ğŸ…µ', 'G': 'ğŸ…¶', 'H': 'ğŸ…·', 'J': 'ğŸ…¹', 'K': 'ğŸ…º', 'L': 'ğŸ…»',
    'Z': 'ğŸ†‰', 'X': 'ğŸ†‡', 'C': 'ğŸ…²', 'V': 'ğŸ†…', 'B': 'ğŸ…±', 'N': 'ğŸ…½', 'M': 'ğŸ…¼',
    '0': '0', '1': '1', '2': '2', '3': '3', '4': '4', '5': '5', '6': '6', '7': '7', '8': '8', '9': '9' // Adicionei nÃºmeros como fallback
};

const fatTextMap = {
    'A': 'á—©', 'B': 'á—·', 'C': 'á‘¢', 'D': 'á•²', 'E': 'á˜¿', 'F': 'á–´', 'G': 'á˜œ', 'H': 'á•¼', 'I': 'á“°', 'J': 'á’š', 'K': 'á–½á¸', 'L': 'á’ª', 'M': 'á˜»',
    'N': 'á˜‰', 'O': 'á“', 'P': 'á•µ', 'Q': 'á•´', 'R': 'á–‡', 'S': 'á”•', 'T': 'á–¶', 'U': 'á‘˜', 'V': 'áº', 'W': 'á˜º', 'X': 'á™­', 'Y': 'á–»', 'Z': 'á—±',
    'a': 'á—©', 'b': 'á—·', 'c': 'á‘¢', 'd': 'á•²', 'e': 'á˜¿', 'f': 'á–´', 'g': 'á˜œ', 'h': 'á•¼', 'i': 'á“°', 'j': 'á’š', 'k': 'á–½á¸', 'l': 'á’ª', 'm': 'á˜»',
    'n': 'á˜‰', 'o': 'á“', 'p': 'á•µ', 'q': 'á•´', 'r': 'á–‡', 's': 'á”•', 't': 'á–¶', 'u': 'á‘˜', 'v': 'áº', 'w': 'á˜º', 'x': 'á™­', 'y': 'á–»', 'z': 'á—±',
    '0': '0', '1': '1', '2': '2', '3': '3', '4': '4', '5': '5', '6': '6', '7': '7', '8': '8', '9': '9'
};

const wideTextMap = {
    '`': '`', '1': 'ï¼‘', '2': 'ï¼’', '3': 'ï¼“', '4': 'ï¼”', '5': 'ï¼•', '6': 'ï¼–', '7': 'ï¼—', '8': 'ï¼˜', '9': 'ï¼™', '0': 'ï¼', '-': 'ï¼', '=': 'ï¼', '~': 'ï½',
    '!': 'ï¼', '@': 'ï¼ ', '#': 'ï¼ƒ', '$': 'ï¼„', '%': 'ï¼…', '^': 'ï¼¾', '&': 'ï¼†', '*': 'ï¼Š', '(': 'ï¼ˆ', ')': 'ï¼‰', '_': 'ï¼¿', '+': 'ï¼‹',
    'q': 'ï½‘', 'w': 'ï½—', 'e': 'ï½…', 'r': 'ï½’', 't': 'ï½”', 'y': 'ï½™', 'u': 'ï½•', 'i': 'ï½‰', 'o': 'ï½', 'p': 'ï½', '[': 'ï¼»', ']': 'ï¼½', '\\': 'ï¼¼',
    'Q': 'ï¼±', 'W': 'ï¼·', 'E': 'ï¼¥', 'R': 'ï¼²', 'T': 'ï¼´', 'Y': 'ï¼¹', 'U': 'ï¼µ', 'I': 'ï¼©', 'O': 'ï¼¯', 'P': 'ï¼°', '{': 'ï½›', '}': 'ï½', '|': 'ï½œ',
    'a': 'ï½', 's': 'ï½“', 'd': 'ï½„', 'f': 'ï½†', 'g': 'ï½‡', 'h': 'ï½ˆ', 'j': 'ï½Š', 'k': 'ï½‹', 'l': 'ï½Œ', ';': 'ï¼›', '\'': 'ï¼‡',
    'A': 'ï¼¡', 'S': 'ï¼³', 'D': 'ï¼¤', 'F': 'ï¼¦', 'G': 'ï¼§', 'H': 'ï¼¨', 'J': 'ï¼ª', 'K': 'ï¼«', 'L': 'ï¼¬', ':': 'ï¼š', '"': 'ï¼‚',
    'z': 'ï½š', 'x': 'ï½˜', 'c': 'ï½ƒ', 'v': 'ï½–', 'b': 'ï½‚', 'n': 'ï½', 'm': 'ï½', ',': 'ï¼Œ', '.': 'ï¼', '/': 'ï¼',
    'Z': 'ï¼º', 'X': 'ï¼¸', 'C': 'ï¼£', 'V': 'ï¼¶', 'B': 'ï¼¢', 'N': 'ï¼®', 'M': 'ï¼­', '<': 'ï¼œ', '>': 'ï¼', '?': 'ï¼Ÿ'
};

const boldMap = {
    '0': 'ğŸ', '1': 'ğŸ', '2': 'ğŸ', '3': 'ğŸ‘', '4': 'ğŸ’', '5': 'ğŸ“', '6': 'ğŸ”', '7': 'ğŸ•', '8': 'ğŸ–', '9': 'ğŸ—',
    'A': 'ğ€', 'B': 'ğ', 'C': 'ğ‚', 'D': 'ğƒ', 'E': 'ğ„', 'F': 'ğ…', 'G': 'ğ†', 'H': 'ğ‡', 'I': 'ğˆ', 'J': 'ğ‰', 'K': 'ğŠ', 'L': 'ğ‹', 'M': 'ğŒ',
    'N': 'ğ', 'O': 'ğ', 'P': 'ğ', 'Q': 'ğ', 'R': 'ğ‘', 'S': 'ğ’', 'T': 'ğ“', 'U': 'ğ”', 'V': 'ğ•', 'W': 'ğ–', 'X': 'ğ—', 'Y': 'ğ˜', 'Z': 'ğ™',
    'a': 'ğš', 'b': 'ğ›', 'c': 'ğœ', 'd': 'ğ', 'e': 'ğ', 'f': 'ğŸ', 'g': 'ğ ', 'h': 'ğ¡', 'i': 'ğ¢', 'j': 'ğ£', 'k': 'ğ¤', 'l': 'ğ¥', 'm': 'ğ¦',
    'n': 'ğ§', 'o': 'ğ¨', 'p': 'ğ©', 'q': 'ğª', 'r': 'ğ«', 's': 'ğ¬', 't': 'ğ­', 'u': 'ğ®', 'v': 'ğ¯', 'w': 'ğ°', 'x': 'ğ±', 'y': 'ğ²', 'z': 'ğ³'
};

const smallcapsMap = {
    'a':'á´€','b':'Ê™','c':'á´„','d':'á´…','e':'á´‡','f':'êœ°','g':'É¢','h':'Êœ','i':'Éª','j':'á´Š','k':'á´‹','l':'ÊŸ','m':'á´','n':'É´','o':'á´','p':'á´˜','q':'Ç«','r':'Ê€','s':'s','t':'á´›','u':'á´œ','v':'á´ ','w':'á´¡','x':'x','y':'Ê','z':'á´¢',
    'A':'á´€','B':'Ê™','C':'á´„','D':'á´…','E':'á´‡','F':'êœ°','G':'É¢','H':'Êœ','I':'Éª','J':'á´Š','K':'á´‹','L':'ÊŸ','M':'á´','N':'É´','O':'á´','P':'á´˜','Q':'Ç«','R':'Ê€','S':'s','T':'á´›','U':'á´œ','V':'á´ ','W':'á´¡','X':'x','Y':'Ê','Z':'á´¢',
    '0': '0', '1': '1', '2': '2', '3': '3', '4': '4', '5': '5', '6': '6', '7': '7', '8': '8', '9': '9' // Adicionei nÃºmeros como fallback
};

const squaresMap = {
    '0': '0', '1': '1', '2': '2', '3': '3', '4': '4', '5': '5', '6': '6', '7': '7', '8': '8', '9': '9',
    'A': 'ğŸ„°', 'B': 'ğŸ„±', 'C': 'ğŸ„²', 'D': 'ğŸ„³', 'E': 'ğŸ„´', 'F': 'ğŸ„µ', 'G': 'ğŸ„¶', 'H': 'ğŸ„·', 'I': 'ğŸ„¸', 'J': 'ğŸ„¹', 'K': 'ğŸ„º', 'L': 'ğŸ„»', 'M': 'ğŸ„¼',
    'N': 'ğŸ„½', 'O': 'ğŸ„¾', 'P': 'ğŸ„¿', 'Q': 'ğŸ…€', 'R': 'ğŸ…', 'S': 'ğŸ…‚', 'T': 'ğŸ…ƒ', 'U': 'ğŸ…„', 'V': 'ğŸ……', 'W': 'ğŸ…†', 'X': 'ğŸ…‡', 'Y': 'ğŸ…ˆ', 'Z': 'ğŸ…‰',
    'a': 'ğŸ„°', 'b': 'ğŸ„±', 'c': 'ğŸ„²', 'd': 'ğŸ„³', 'e': 'ğŸ„´', 'f': 'ğŸ„µ', 'g': 'ğŸ„¶', 'h': 'ğŸ„·', 'i': 'ğŸ„¸', 'j': 'ğŸ„¹', 'k': 'ğŸ„º', 'l': 'ğŸ„»', 'm': 'ğŸ„¼',
    'n': 'ğŸ„½', 'o': 'ğŸ„¾', 'p': 'ğŸ„¿', 'q': 'ğŸ…€', 'r': 'ğŸ…', 's': 'ğŸ…‚', 't': 'ğŸ…ƒ', 'u': 'ğŸ…„', 'v': 'ğŸ……', 'w': 'ğŸ…†', 'x': 'ğŸ…‡', 'y': 'ğŸ…ˆ', 'z': 'ğŸ…‰'
};

const luniToolsFlipConfig = {
    _init: function() {
        for (let i in this.map) {
            this.mapInverse[this.map[i]] = i;
        }
    },
    convert: function(a) {
        let converted = '';
        for (let i = 0; i < a.length; i++) {
            let char = a.charAt(i);
            if (i > 0 && (char == 'Ì¤' || char == 'Ì—' || char == 'Ì–' || char == 'Ì®')) {
                converted = converted.slice(0, -1);
                char = this.map[a.charAt(i - 1) + char];
            } else {
                char = this.map[char];
                if (typeof char == 'undefined') {
                    char = a.charAt(i);
                }
            }
            converted += char;
        }
        return converted;
    },
    map: {
        'a': 'É', 'b': 'q', 'c': 'É”', 'd': 'p', 'e': 'Ç', 'f': 'ÉŸ', 'g': 'É“', 'h': 'É¥', 'i': 'Ä±', 'j': 'É¾', 'k': 'Ê', 'l': 'l', 'm': 'É¯',
        'n': 'u', 'r': 'É¹', 't': 'Ê‡', 'v': 'ÊŒ', 'w': 'Ê', 'y': 'Ê',
        'A': 'âˆ€', 'B': 'á™ ', 'C': 'Æ†', 'D': 'á—¡', 'E': 'Æ', 'F': 'â„²', 'G': 'â…', 'J': 'Å¿', 'K': 'â‹Š', 'L': 'Ë¥', 'M': 'W', 'P': 'Ô€', 'Q': 'ÎŒ',
        'R': 'á´š', 'T': 'âŠ¥', 'U': 'âˆ©', 'V': 'Î›', 'Y': 'â…„',
        '1': 'â‡‚', '2': 'á„…', '3': 'Æ', '4': 'ã„£', '5': 'Ş', '6': '9', '7': 'ã„¥',
        '&': 'â…‹', '.': 'Ë™', '"': 'â€', ';': 'Ø›', '[': ']', '(': ')', '{': '}', '?': 'Â¿', '!': 'Â¡', '\'': ',', '<': '>',
        'â€¾': 'â€¾', 'Â¯': 'Â¯', 'â€¿': 'â€', 'â…': 'â†', 'âˆ´': 'âˆµ', 'â€š': '`',
        'ÃŸ': 'á™ ', 'Ìˆ': 'Ì¤', 'Ã¤': 'É' + 'Ì¤', 'Ã¶': 'o' + 'Ì¤', 'Ã¼': 'n' + 'Ì¤',
        'Ã„': 'âˆ€' + 'Ì¤', 'Ã–': 'O' + 'Ì¤', 'Ãœ': 'âˆ©' + 'Ì¤',
        'Â´': 'Ì—', 'Ã©': 'Ç' + 'Ì—', 'Ã¡': 'É' + 'Ì—', 'Ã³': 'o' + 'Ì—', 'Ãº': 'n' + 'Ì—',
        'Ã‰': 'Æ' + 'Ì—', 'Ã': 'âˆ€' + 'Ì—', 'Ã“': 'O' + 'Ì—', 'Ãš': 'âˆ©' + 'Ì—',
        '`': 'Ì–', 'Ã¨': 'Ç' + 'Ì–', 'Ã ': 'É' + 'Ì–', 'Ã²': 'o' + 'Ì–', 'Ã¹': 'n' + 'Ì–',
        'Ãˆ': 'Æ' + 'Ì–', 'Ã€': 'âˆ€' + 'Ì–', 'Ã’': 'O' + 'Ì–', 'Ã™': 'âˆ©' + 'Ì–',
        '^': 'Ì®', 'Ãª': 'Ç' + 'Ì®', 'Ã¢': 'É' + 'Ì®', 'Ã´': 'o' + 'Ì®', 'Ã»': 'n' + 'Ì®',
        'ÃŠ': 'Æ' + 'Ì®', 'Ã‚': 'âˆ€' + 'Ì®', 'Ã”': 'O' + 'Ì®', 'Ã›': 'âˆ©' + 'Ì®',
        '0': '0', '1': '1', '2': '2', '3': '3', '4': '4', '5': '5', '6': '6', '7': '7', '8': '8', '9': '9' // Adicionei nÃºmeros como fallback
    },
    mapInverse: {}
};
luniToolsFlipConfig._init();

const reverseMirrorConfig = {
    _init: function() {
        for (let i in this.map) {
            this.mapInverse[this.map[i]] = i;
        }
    },
    convert: function(a) {
        let converted = '',
            char;
        for (let i = 0; i < a.length; i++) {
            char = a.charAt(i);
            if (i > 0 && (char == 'Ìˆ' || char == 'Ì€' || char == 'Ì' || char == 'Ì‚')) {
                converted = converted.slice(0, -1);
                char = this.map[a.charAt(i - 1) + char];
            } else {
                char = this.map[char];
                if (typeof char == 'undefined') {
                    char = a.charAt(i);
                }
            }
            if (char == '\n') {
                converted += '\n';
            } else {
                converted += char;
            }
        }
        return converted;
    },
    map: {
        'a': 'É’', 'b': 'd', 'c': 'É”', 'e': 'É˜', 'f': 'á¸', 'g': 'Ç«', 'h': 'Êœ', 'j': 'ê', 'k': 'Ê', 'l': '|', 'n': 'á´', 'p': 'q', 'r': 'É¿',
        's': 'ê™…', 't': 'Æš', 'y': 'Ê', 'z': 'Æ¹',
        'B': 'á™ ', 'C': 'Æ†', 'D': 'á—¡', 'E': 'Æ', 'F': 'êŸ»', 'G': 'á®', 'J': 'á‚±', 'K': 'â‹Š', 'L': 'â…ƒ', 'N': 'Í¶', 'P': 'êŸ¼', 'Q': 'á»Œ',
        'R': 'Ğ¯', 'S': 'ê™„', 'Z': 'Æ¸',
        '1': '', '2': '', '3': '', '4': '', '5': '', '6': '', '7': '',
        '&': '', ';': '', '[': ']', '(': ')', '{': '}', '?': 'â¸®', '<': '>',
        'Ã¤': 'É’' + 'Ìˆ', 'ÃŸ': 'á™ ',
        'Â´': '`', 'Ã©': 'É˜' + 'Ì€', 'Ã¡': 'É’' + 'Ì€', 'Ã³': 'Ã²', 'Ãº': 'Ã¹',
        'Ã‰': 'Æ' + 'Ì€', 'Ã': 'Ã€', 'Ã“': 'Ã’', 'Ãš': 'Ã™',
        '`': 'Â´', 'Ã¨': 'É˜' + 'Ì', 'Ã ': 'É’' + 'Ì',
        'Ãˆ': 'Æ' + 'Ì',
        'Ãª': 'É˜' + 'Ì‚', 'Ã¢': 'É’' + 'Ì‚',
        'ÃŠ': 'Æ' + 'Ì‚',
        'Ã˜': 'á´“', 'Ã¸': 'á´“',
        '0': '0', '1': '1', '2': '2', '3': '3', '4': '4', '5': '5', '6': '6', '7': '7', '8': '8', '9': '9' // Adicionei nÃºmeros como fallback
    },
    mapInverse: {}
};
reverseMirrorConfig._init();

// --- FunÃ§Ã£o auxiliar para aplicar mapeamentos gerais ---
function applyMapping(text, mapping, addSpace = false) {
    if (!text || typeof text !== 'string' || !mapping) {
        return text;
    }
    let convertedText = '';
    
    Array.from(text).forEach(char => {
        let finalCharToAdd = char; // Default to the original character

        // Tenta o caractere original
        if (mapping[char]) {
            finalCharToAdd = mapping[char];
        }
        // Se nÃ£o encontrado, tenta sua versÃ£o minÃºscula (se diferente)
        else if (char.toLowerCase() !== char && mapping[char.toLowerCase()]) {
            finalCharToAdd = mapping[char.toLowerCase()];
        }
        // Se ainda nÃ£o encontrado, tenta sua versÃ£o maiÃºscula (se diferente)
        else if (char.toUpperCase() !== char && mapping[char.toUpperCase()]) {
            finalCharToAdd = mapping[char.toUpperCase()];
        }
        
        convertedText += finalCharToAdd; // Adiciona o caractere determinado

        // Adiciona um espaÃ§o APENAS se 'addSpace' for true,
        // o caractere original nÃ£o for um espaÃ§o,
        // E o caractere adicionado foi de fato diferente do original (ou seja, foi mapeado)
        if (addSpace && char !== ' ' && finalCharToAdd !== char) { // This is the crucial change
            convertedText += ' ';
        }
    });

    // Remove trailing space if addSpace is true and the text is not empty or ends with original space
    if (addSpace && convertedText.endsWith(' ') && text.trim().length > 0) {
        // If the original text ended with a space, we want to preserve that final space.
        // So, only trim if the original text did NOT end with a space.
        if (!text.endsWith(' ')) {
            convertedText = convertedText.trim();
        }
    } else if (addSpace && convertedText.endsWith(' ') && text.length === 0) {
        // Handle case where input was empty, and a space might have been added by mistake
        convertedText = '';
    }
    
    return convertedText;
}

// --- FUNÃ‡ÃƒO CENTRALIZADA DE CONVERSÃƒO ---
function convertToStyled(text, styleType) {
    if (!styleType || styleType === 'none') return text;

    switch (styleType) {
        // Mapeamentos do seu unicodeMap original
        case 'bold': return applyMapping(text, boldMap);
        case 'italic': return applyMapping(text, italicMap);
        case 'boldItalic': return applyMapping(text, boldItalicMap);
        case 'script': return applyMapping(text, scriptifyMap);
        case 'monospace': return applyMapping(text, monospaceMap);
        case 'smallcaps': return applyMapping(text, smallcapsMap);
        case 'double': return applyMapping(text, doubleStruckMap);
        case 'circled': return applyMapping(text, lunitoolsBubblesMap);
        case 'squared': // squared Ã© um caso especial que geralmente capitaliza
            const squaredMap = {'A':'ğŸ„°','B':'ğŸ„±','C':'ğŸ„²','D':'ğŸ„³','E':'ğŸ„´','F':'ğŸ„µ','G':'ğŸ„¶','H':'ğŸ„·','I':'ğŸ„¸','J':'ğŸ„¹','K':'ğŸ„º','L':'ğŸ„»','M':'ğŸ„¼','N':'ğŸ„½','O':'ğŸ„¾','P':'ğŸ„¿','Q':'ğŸ…€','R': 'ğŸ…', 'S': 'ğŸ…‚', 'T': 'ğŸ…ƒ', 'U': 'ğŸ…„', 'V': 'ğŸ……', 'W': 'ğŸ…†', 'X': 'ğŸ…‡', 'Y': 'ğŸ…ˆ', 'Z': 'ğŸ…‰',
                                'a':'ğŸ„°','b':'ğŸ„±','c':'ğŸ„²','d':'ğŸ„³','e':'ğŸ„´','f':'ğŸ„µ','g':'ğŸ„¶','h':'ğŸ„·','i':'ğŸ„¸','j':'ğŸ„¹','k':'ğŸ„º','l':'ğŸ„»','m':'ğŸ„¼','n':'ğŸ„½','o':'ğŸ„¾','p':'ğŸ„¿','q':'ğŸ…€','r': 'ğŸ…', 's': 'ğŸ…‚', 't': 'ğŸ…ƒ', 'u': 'ğŸ…„', 'v': 'ğŸ……', 'w': 'ğŸ…†', 'x': 'ğŸ…‡', 'y': 'ğŸ…ˆ', 'z': 'ğŸ…‰',
                                '0': '0', '1': '1', '2': '2', '3': '3', '4': '4', '5': '5', '6': '6', '7': '7', '8': '8', '9': '9'};
            // A nova applyMapping jÃ¡ trata de tentar capitalizar se o mapeamento nÃ£o for encontrado
            return applyMapping(text, squaredMap);
        // Novas fontes solicitadas
        case 'elegante_cursive_1': return applyMapping(text, scriptifyMap);
        case 'elegante_cursive_2': return applyMapping(text, eleganteCursive2Map);
        case 'old_english': return applyMapping(text, oldEnglishMap);
        case 'medieval': return applyMapping(text, medievalMap);
        case 'double_struck': return applyMapping(text, doubleStruckMap);
        case 'lunitools_bubbles': return applyMapping(text, lunitoolsBubblesMap);
        case 'round_black_box_bubbles': return applyMapping(text, roundBlackBoxBubblesMap);
        case 'dashbox_box': return applyMapping(text, dashboxBoxMap, true);
        case 'inverted_squares': return applyMapping(text, invertedSquaresMap);
        case 'fat_text': return applyMapping(text, fatTextMap);
        case 'wide_text': return applyMapping(text, wideTextMap);
        case 'luni_tools_flip': return luniToolsFlipConfig.convert(text);
        case 'reverse_mirror': return reverseMirrorConfig.convert(text);
        case 'squares': return applyMapping(text, squaresMap);
        case 'luni_tools_mirror': return reverseMirrorConfig.convert(text);

        default: return text;
    }
}